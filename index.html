<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Kart Check - Maintenance System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <div class="language-toggle">
                    <button id="languageToggle" class="btn btn-small">üá≥üá± NL</button>
                </div>
            </div>
            <h1>üèÅ <span data-en="Weekly Kart Check System" data-nl="Wekelijkse Kart Controle Systeem">Weekly Kart Check System</span> 
                <a href="https://docs.google.com/spreadsheets/d/1sCTKJzF1b7pZ5bB1AFD8Y-Hzx2HXI4x5AhVMNVi6gM8/edit" 
                   target="_blank" 
                   class="spreadsheet-link" 
                   title="Open Spreadsheet in New Tab"
                   data-en-title="Open Spreadsheet in New Tab"
                   data-nl-title="Open Spreadsheet in Nieuw Tabblad">
                    üìä
                </a>
            </h1>
            <p><strong data-en="CENTER & YEAR:" data-nl="CENTRUM & JAAR:">CENTER & YEAR:</strong> Gent 2025 | <strong data-en="DATE:" data-nl="DATUM:">DATE:</strong> <span id="currentDate"></span></p>
        </header>

        <div class="main-content">
            <!-- Kart Selection -->
            <section class="kart-selection">
                <h2 data-en="Select Karts with Issues" data-nl="Selecteer Karts met Problemen">Select Karts with Issues</h2>
                <p class="instruction-text" data-en="Click on karts that have problems. Only mark karts that need attention." data-nl="Klik op karts die problemen hebben. Markeer alleen karts die aandacht nodig hebben.">Click on karts that have problems. Only mark karts that need attention.</p>
                <div class="kart-grid">
                    <!-- Kart buttons will be generated by JavaScript -->
                </div>
            </section>

            <!-- Checklist Form -->
            <section class="checklist-form" id="checklistForm">
                <h2 data-en="Weekly Check - Individual Kart Problems" data-nl="Wekelijkse Controle - Individuele Kart Problemen">Weekly Check - Individual Kart Problems</h2>
                <p class="instruction-text" data-en="Click on a kart number above to mark it as having issues, then fill out the specific problems for that kart." data-nl="Klik op een kart nummer hierboven om het als problematisch te markeren, vul dan de specifieke problemen voor die kart in.">Click on a kart number above to mark it as having issues, then fill out the specific problems for that kart.</p>
                
                <div class="selected-karts-section">
                    <h3 data-en="Karts with Issues:" data-nl="Karts met Problemen:">Karts with Issues:</h3>
                    <div id="selectedKartsList" class="selected-karts-list">
                        <p class="no-selection" data-en="No karts selected yet. Click on kart numbers above to mark them as having issues." data-nl="Nog geen karts geselecteerd. Klik op kart nummers hierboven om ze als problematisch te markeren.">No karts selected yet. Click on kart numbers above to mark them as having issues.</p>
                    </div>
                </div>

                <div class="kart-checklist-section" id="kartChecklistSection" style="display: none;">
                    <h3 data-en="Problems for Kart #" data-nl="Problemen voor Kart #">Problems for Kart #<span id="currentKartNumber"></span></h3>
                    <p class="instruction-text" data-en="Mark the specific problems found with this kart:" data-nl="Markeer de specifieke problemen gevonden met deze kart:">Mark the specific problems found with this kart:</p>
                    
                    <div class="detailed-checklist" id="detailedChecklist">
                        <div class="checklist-items">
                            <label><input type="checkbox" name="checklist" value="buttons"> <span data-en="1. Buttons" data-nl="1. Knoppen">1. Buttons</span></label>
                            <label><input type="checkbox" name="checklist" value="silent_block_holders"> <span data-en="2. Silent block holders" data-nl="2. Stille blok houders">2. Silent block holders</span></label>
                            <label><input type="checkbox" name="checklist" value="chassis_protection"> <span data-en="3. The chassis / peripheral protection (welding and/or breakage)" data-nl="3. Het chassis / perifere bescherming (lassen en/of breuk)">3. The chassis / peripheral protection (welding and/or breakage)</span></label>
                            <label><input type="checkbox" name="checklist" value="headlights"> <span data-en="4. The headlights/localization emittors" data-nl="4. De koplampen/lokalisatie zenders">4. The headlights/localization emittors</span></label>
                            <label><input type="checkbox" name="checklist" value="nose_fasteners"> <span data-en="5. Nose and front fasteners" data-nl="5. Neus en voorste bevestigingsmiddelen">5. Nose and front fasteners</span></label>
                            <label><input type="checkbox" name="checklist" value="steering"> <span data-en="6. Steering" data-nl="6. Stuurinrichting">6. Steering</span></label>
                            <label><input type="checkbox" name="checklist" value="brakes"> <span data-en="7. Brakes (level + good working order + brake lights)" data-nl="7. Remmen (niveau + goede werking + remlichten)">7. Brakes (level + good working order + brake lights)</span></label>
                            <label><input type="checkbox" name="checklist" value="bearings_spindle"> <span data-en="8. The clearance of the bearings, spindle, fuse left right" data-nl="8. De speling van de lagers, spindel, zekering links rechts">8. The clearance of the bearings, spindle, fuse left right</span></label>
                            <label><input type="checkbox" name="checklist" value="bumpers"> <span data-en="9. Bumpers" data-nl="9. Bumpers">9. Bumpers</span></label>
                            <label><input type="checkbox" name="checklist" value="tires"> <span data-en="10. Tires" data-nl="10. Banden">10. Tires</span></label>
                            <label><input type="checkbox" name="checklist" value="silent_blocks"> <span data-en="11. Silent blocks" data-nl="11. Stille blokken">11. Silent blocks</span></label>
                            <label><input type="checkbox" name="checklist" value="safety_belt"> <span data-en="12. Safety Belt" data-nl="12. Veiligheidsgordel">12. Safety Belt</span></label>
                            <label><input type="checkbox" name="checklist" value="tablet_holder"> <span data-en="13. Tablet Holder" data-nl="13. Tablet Houder">13. Tablet Holder</span></label>
                            <label><input type="checkbox" name="checklist" value="general_visual"> <span data-en="14. General visual condition" data-nl="14. Algemene visuele conditie">14. General visual condition</span></label>
                            <label><input type="checkbox" name="checklist" value="clean"> <span data-en="15. Clean" data-nl="15. Schoon">15. Clean</span></label>
                        </div>
                    </div>

                    <div class="kart-other-failures">
                        <h4 data-en="Other Problems for Kart #" data-nl="Andere Problemen voor Kart #">Other Problems for Kart #<span id="currentKartNumberOther"></span>:</h4>
                        <textarea id="kartOtherFailures" placeholder="Describe any other specific problems with this kart..." rows="2" data-en-placeholder="Describe any other specific problems with this kart..." data-nl-placeholder="Beschrijf andere specifieke problemen met deze kart..."></textarea>
                    </div>

                    <div class="kart-actions">
                        <button type="button" id="saveKartProblems" class="btn btn-success" data-en="Save Kart Problems" data-nl="Bewaar Kart Problemen">Save Kart Problems</button>
                        <button type="button" id="clearKartProblems" class="btn btn-secondary" data-en="Clear This Kart" data-nl="Wis Deze Kart">Clear This Kart</button>
                    </div>
                </div>

                <div class="other-failures-section">
                    <h3 data-en="General Other Failures / Repairs" data-nl="Algemene Andere Storingen / Reparaties">General Other Failures / Repairs</h3>
                    <textarea id="otherFailures" placeholder="Describe any other general failures or repairs needed..." rows="3" data-en-placeholder="Describe any other general failures or repairs needed..." data-nl-placeholder="Beschrijf andere algemene storingen of benodigde reparaties..."></textarea>
                </div>

                <div class="inspector-section">
                    <h3 data-en="Inspector Information" data-nl="Inspecteur Informatie">Inspector Information</h3>
                    <div class="inspector-input-group">
                        <label for="inspectorName" data-en="Inspector Name (Optional):" data-nl="Inspecteur Naam (Optioneel):">Inspector Name (Optional):</label>
                        <input type="text" id="inspectorName" placeholder="Enter your name..." data-en-placeholder="Enter your name..." data-nl-placeholder="Voer uw naam in..." />
                        <small data-en="This will be recorded with the submission for tracking purposes." data-nl="Dit wordt opgeslagen met de inzending voor tracking doeleinden.">This will be recorded with the submission for tracking purposes.</small>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="submitAllChecklists" class="btn btn-primary">
                        <span class="btn-text" data-en="Submit All Checklists" data-nl="Verstuur Alle Controles">Submit All Checklists</span>
                        <span class="btn-loading" style="display: none;">‚è≥ <span data-en="Submitting..." data-nl="Versturen...">Submitting...</span></span>
                    </button>
                    <button type="button" id="clearAll" class="btn btn-secondary" data-en="Clear All" data-nl="Alles Wissen">Clear All</button>
                </div>
                
                <!-- Success Animation -->
                <div id="successAnimation" class="success-animation" style="display: none;">
                    <div class="success-content">
                        <div class="success-icon">üéâ</div>
                        <h3 data-en="Great Job This Week!" data-nl="Geweldig Werk Deze Week!">Great Job This Week!</h3>
                        <p data-en="All kart checks have been submitted successfully!" data-nl="Alle kart controles zijn succesvol verstuurd!">All kart checks have been submitted successfully!</p>
                        <div class="success-stats">
                            <div class="stat">
                                <span class="stat-number" id="submittedKarts">0</span>
                                <span class="stat-label" data-en="Karts Checked" data-nl="Karts Gecontroleerd">Karts Checked</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number" id="issuesFound">0</span>
                                <span class="stat-label" data-en="Issues Found" data-nl="Problemen Gevonden">Issues Found</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Section -->
            <section class="dashboard" id="dashboard" style="display: none;">
                <h2>üìä Maintenance Dashboard</h2>
                <div class="dashboard-controls">
                    <button id="viewDashboard" class="btn btn-info">View Dashboard</button>
                    <button id="backToChecklist" class="btn btn-secondary">Back to Checklist</button>
                </div>
                <div id="dashboardContent">
                    <!-- Dashboard content will be loaded here -->
                </div>
            </section>  
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
